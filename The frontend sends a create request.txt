The frontend sends a create request

Controller forwards to MediatR

Handler processes command, uses repository to save entities

DbContext commits to PostgreSQL

Result flows back to frontend

User (Angular) --> LivresController : POST /livres (CreateLivreRequest)

LivresController --> MediatR : Send(CreateLivreCommand)

MediatR --> CreateLivreHandler : Handle(CreateLivreCommand)

CreateLivreHandler --> LivreRepository : Add(new Livre entity)
LivreRepository --> AppDbContext : SaveChanges()
AppDbContext --> PostgreSQL : Insert Livre + Inventaire records
LivreRepository --> CreateLivreHandler : return created Livre
CreateLivreHandler --> MediatR : return result
MediatR --> LivresController : return Created response
LivresController --> User : HTTP 201 Created + LivreDto


Utilisateur (Angular)
  ↓
LivresController (objet)
  ↓
IMediator / MediatR (objet médiateur)
  ↓
CreateLivreCommandHandler (objet handler)
  ↓
LivreRepository (objet concret)
  ↓
AppDbContext (objet EF Core)
  ↓
Base de données PostgreSQL
